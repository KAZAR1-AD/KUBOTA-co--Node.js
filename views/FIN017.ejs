<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>フレンド一覧（FIN017）</title>
    <link rel="stylesheet" href="/css/style.css"> 
</head>
<body class="fin017">

    <div class="tabs-container">
        <h2>ページ内タブのデモンストレーション</h2>
        <ul class="tab-header">
            <!-- <li class="tab-link active" data-tab="tab1">フレンド一覧</li>
            <li class="tab-link" data-tab="tab2">フレンド検索</li>
            <li class="tab-link" data-tab="tab3">タブ C</li> -->
            <li class="tab-link active" data-tab="tab1">フォロー中</li>
            <li class="tab-link" data-tab="tab2">フレンド検索</li>
            <li class="tab-link" data-tab="tab3">フォロワー</li>
        </ul>

        <div id="tab1" class="tab-content active">
            <div class="fin017-list-container">

                <!-- ここから追記 -->
                 <% if (followingList.length > 0) { %>
                    <% followingList.forEach(item => { %>
                        <div class="fin017-friend-item">
                    <div class="fin017-icon">
                        <span>icon</span>
                    </div>
                    <div class="fin017-info">
                        <span class="fin017-username"><%- item.user_name %></span>
                        <span class="fin017-userid"><%- item.user_id %></span>
                    </div>
                    <div class="fin017-heart">❤️</div>
                </div>
                    <% }); %>
                 <% } else { %>
                    <p style="text-align: center; color: #888; font-size: 14px;">
                        フォロー中のユーザーはいません。
                    </p>
                <% } %>
                <!-- ここまで -->

                <div class="fin017-friend-item">
                    <div class="fin017-icon">
                        <span>icon</span>
                    </div>
                    <div class="fin017-info">
                        <span class="fin017-username">山田 太郎</span>
                        <span class="fin017-userid">@taro_yamada</span>
                    </div>
                    <div class="fin017-heart">❤️</div>
                </div>
        
                <div class="fin017-friend-item">
                    <div class="fin017-icon">
                        <span>icon</span>
                    </div>
                    <div class="fin017-info">
                        <span class="fin017-username">鈴木 花子</span>
                        <span class="fin017-userid">@hanako_suzuki</span>
                    </div>
                    <div class="fin017-heart">❤️</div>
                </div>
                
                <a href="<%= backUrl %>" class="fin017-bottom-back-btn">戻る</a>
            </div>
        </div>

        <div id="tab2" class="tab-content">

            <div class="fin018-container">
                
                <div class="form-group">
                    <input type="text" id="search-id" class="fin018-input" placeholder="ユーザーネームを入力">
                </div>
        
                <div class="button-area-center">
                    <button type="button" class="fin018-search-btn" id="searchBtn">検 索</button>
                </div>
            </div>
        
            <div class="fin018-result-container" id="resultArea">
                <p style="text-align: center; color: #888; font-size: 14px;">
                    ユーザーネームを入力して検索してください
                </p>
            </div>
        
            <div class="fin018-back-btn-area">
                <a href="<%= backUrl %>" class="fin018-back-link">一覧へ戻る</a>
            </div>
        
            </body>
        </div>

        <div id="tab3" class="tab-content">
            <h3>コンテンツ C</h3>
            <p>これはタブ C の内容です。</p>
        </div>
    </div>

    <script>
        // DOMContentLoaded: HTMLの読み込みが完了したら実行する
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.tab-link');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // 1. すべてのタブからアクティブクラスを削除
                    tabs.forEach(item => item.classList.remove('active'));
                    // 2. クリックされたタブにアクティブクラスを追加
                    tab.classList.add('active');

                    // 3. すべてのコンテンツを非表示にする
                    contents.forEach(content => content.classList.remove('active'));

                    // 4. 対応するコンテンツを表示する
                    const targetId = tab.getAttribute('data-tab');
                    const targetContent = document.getElementById(targetId);
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>
</html>