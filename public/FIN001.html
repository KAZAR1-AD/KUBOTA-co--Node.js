<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>船橋今なにする？（FIN001）</title>
  <link rel="stylesheet" href="../CSS/style.css" />
</head>

<body class="fin001">

  <header class="fixed-header">
    <div class="fixed-header-left"></div>
    <div class="fixed-header-title">船橋今なにする？</div>
    <div class="fixed-header-icon-area" id="headerIconArea"></div>
  </header>

  <main>
    <div class="container fin001-main-container">
      <h1>船橋今なにする？</h1>
      <button class="btn btn-primary fin001-start-btn" onclick="location.href='FIN006.html'">START</button>
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const isLoggedIn = localStorage.getItem('isLoggedIn');
      const savedImageUrl = localStorage.getItem('profileImage');
      const headerIconArea = document.getElementById('headerIconArea');
      if (!headerIconArea) return;

      if (isLoggedIn === 'true') {
        const imageUrlToShow = savedImageUrl ? savedImageUrl : '../images/kubota_icon0.png';
        headerIconArea.innerHTML = `
          <a href="FIN008.html" class="header-profile-icon">
            <img src="${imageUrlToShow}" alt="メニュー">
          </a>`;
      } else {
        headerIconArea.innerHTML = `
          <a href="FIN002.html" class="btn btn-primary header-login-btn" id="headerLoginButton">ログイン</a>
        `;
        const loginBtn = document.getElementById('headerLoginButton');
        if (loginBtn) {
          loginBtn.addEventListener('click', function (e) {
            e.preventDefault();
            localStorage.setItem('loginRedirect', 'FIN001.html');
            localStorage.removeItem('redirectUrl');
            location.href = this.href;
          });
        }
      }
    });
  </script>

</body>

</html>